{% load staticfiles %}
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tree Hugger SB</title>
    <style type="text/css">
      html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>

    <link rel="stylesheet" href="{% static 'bootstrap/dist/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'font-awesome/css/font-awesome.min.css' %}">


    <script>
      var API_KEY = '{{ user.api_key.key }}';
      var USERNAME = '{{ user.username }}';
    </script>

    <script type="text/javascript" src="{% static 'modernizr/modernizr.js' %}"></script>
    <script type="text/javascript" src="{% static 'jquery/dist/jquery.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'bootstrap/dist/js/bootstrap.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'lodash/lodash.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'backbone/backbone.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/map.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/backbone-tastypie.js' %}"></script>
    <script src="http://maps.google.com/maps/api/js"></script>
    <script>
      // function initialize() {
      //   var mapOptions = {
      //     center: { lat: 41.6725, lng: -86.2},
      //     zoom: 13
      //   };
      //   var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
      //
      //   // Request current location
      //   navigator.geolocation.getCurrentPosition(function(pos){
      //       map.setCenter({lat: pos.coords.latitude, lng: pos.coords.longitude})
      //       map.setZoom(15)
      //   })
      //
      //   // Load tree data and make markers
      //   d = new XMLHttpRequest()
      //   d.open('GET', '/api/v1/tree/?limit=1000&format=json', true)
      //   d.send()
      //   d.onload = function(){
      //       trees = JSON.parse(d.responseText).objects
      //       trees.forEach(function(tree){
      //           var marker = new google.maps.Marker({position: {lat: tree.latitude, lng: tree.longitude}, map: map})
      //           marker.data = tree
      //           addinfowindow(marker)
      //       })
      //   }
      // }
      // google.maps.event.addDomListener(window, 'load', initialize);
      //
      // // Info Window
      // function addinfowindow(marker){
      //   google.maps.event.addListener(marker, 'click', function(e) {
      //       var infowindow = new google.maps.InfoWindow();
      //       infowindow.open(marker.map, marker)
      //       infoDiv = document.createElement('div')
      //       infowindow.setContent(infoDiv)
      //       marker.data.images.forEach(function(data){
      //           var img = document.createElement('img')
      //           img.src = data.image
      //           img.style.maxWidth = '128px'
      //           img.style.maxHeight = '128px'
      //           img.style.padding = '10px'
      //           infoDiv.appendChild(img)
      //       })
      //   })
      // }
    </script>
  </head>
  <body>
<div id="map-canvas"></div>
  </body>
</html>
